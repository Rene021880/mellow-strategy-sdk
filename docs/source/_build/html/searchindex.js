Search.setIndex({docnames:["getting_started","index","strategy"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["getting_started.rst","index.rst","strategy.rst"],objects:{"strategy.backtest":[[2,1,1,"","Backtest"]],"strategy.backtest.Backtest":[[2,2,1,"","backtest"],[2,3,1,"","portfolio"],[2,3,1,"","strategy"]],"strategy.cross_validation":[[2,1,1,"","CrossValidation"],[2,1,1,"","FolderSimple"]],"strategy.cross_validation.CrossValidation":[[2,2,1,"","aggregate"],[2,2,1,"","backtest"],[2,3,1,"","folder"],[2,3,1,"","strategy"]],"strategy.cross_validation.FolderSimple":[[2,2,1,"","generate_folds_by_index"],[2,2,1,"","get_fold"],[2,3,1,"","n_folds"]],"strategy.data":[[2,1,1,"","PoolDataUniV3"],[2,1,1,"","RawDataUniV3"],[2,1,1,"","SyntheticData"]],"strategy.data.PoolDataUniV3":[[2,3,1,"","burns"],[2,3,1,"","mints"],[2,3,1,"","pool"],[2,3,1,"","swaps"]],"strategy.data.SyntheticData":[[2,2,1,"","generate_data"],[2,3,1,"","init_price"],[2,3,1,"","mu"],[2,3,1,"","n_points"],[2,3,1,"","pool"],[2,3,1,"","seed"],[2,3,1,"","sigma"],[2,3,1,"","start_date"]],"strategy.history":[[2,1,1,"","PortfolioHistory"],[2,1,1,"","RebalanceHistory"],[2,1,1,"","UniPositionsHistory"]],"strategy.history.PortfolioHistory":[[2,2,1,"","add_snapshot"],[2,2,1,"","calculate_apy_for_col"],[2,2,1,"","calculate_fees"],[2,2,1,"","calculate_ils"],[2,2,1,"","calculate_returns"],[2,2,1,"","calculate_stats"],[2,2,1,"","calculate_value_to"],[2,2,1,"","calculate_values"],[2,2,1,"","to_df"]],"strategy.history.RebalanceHistory":[[2,2,1,"","add_snapshot"],[2,2,1,"","to_df"]],"strategy.history.UniPositionsHistory":[[2,2,1,"","add_snapshot"],[2,2,1,"","to_df"]],"strategy.multi_strategy":[[2,1,1,"","MultiStrategy"]],"strategy.multi_strategy.MultiStrategy":[[2,2,1,"","append"],[2,3,1,"","name"],[2,2,1,"","rebalance"],[2,2,1,"","remove"],[2,3,1,"","strategies"]],"strategy.portfolio":[[2,1,1,"","Portfolio"]],"strategy.portfolio.Portfolio":[[2,2,1,"","append"],[2,2,1,"","get_last_position"],[2,2,1,"","get_position"],[2,3,1,"","name"],[2,2,1,"","position_names"],[2,3,1,"","positions"],[2,2,1,"","positions_list"],[2,2,1,"","remove"],[2,2,1,"","rename_position"],[2,2,1,"","snapshot"],[2,2,1,"","to_x"],[2,2,1,"","to_xy"],[2,2,1,"","to_y"]],"strategy.positions":[[2,1,1,"","BiCurrencyPosition"],[2,1,1,"","UniV3Position"]],"strategy.positions.BiCurrencyPosition":[[2,2,1,"","deposit"],[2,2,1,"","interest_gain"],[2,2,1,"","rebalance"],[2,3,1,"","rebalance_cost"],[2,2,1,"","snapshot"],[2,3,1,"","swap_fee"],[2,2,1,"","swap_x_to_y"],[2,2,1,"","swap_y_to_x"],[2,2,1,"","to_x"],[2,2,1,"","to_xy"],[2,2,1,"","to_y"],[2,2,1,"","withdraw"],[2,2,1,"","withdraw_fraction"],[2,3,1,"","x"],[2,3,1,"","x_interest"],[2,3,1,"","y"],[2,3,1,"","y_interest"]],"strategy.positions.UniV3Position":[[2,2,1,"","burn"],[2,2,1,"","charge_fees"],[2,2,1,"","collect_fees"],[2,2,1,"","deposit"],[2,3,1,"","fee_percent"],[2,2,1,"","impermanent_loss"],[2,2,1,"","impermanent_loss_to_x"],[2,2,1,"","impermanent_loss_to_y"],[2,3,1,"","lower_price"],[2,2,1,"","mint"],[2,3,1,"","name"],[2,3,1,"","rebalance_cost"],[2,2,1,"","snapshot"],[2,2,1,"","swap_to_optimal"],[2,2,1,"","swap_x_to_y"],[2,2,1,"","swap_y_to_x"],[2,2,1,"","to_x"],[2,2,1,"","to_xy"],[2,2,1,"","to_y"],[2,3,1,"","upper_price"],[2,2,1,"","withdraw"]],"strategy.primitives":[[2,1,1,"","Fee"],[2,1,1,"","Pool"],[2,1,1,"","Token"]],"strategy.primitives.Fee":[[2,4,1,"","percent"],[2,4,1,"","spacing"]],"strategy.primitives.Pool":[[2,4,1,"","address"],[2,4,1,"","decimals_diff"],[2,4,1,"id0","fee"],[2,4,1,"","l_decimals_diff"],[2,4,1,"","name"],[2,4,1,"","token0"],[2,4,1,"","token1"],[2,3,1,"","tokenA"],[2,3,1,"","tokenB"]],"strategy.primitives.Token":[[2,4,1,"","address"],[2,4,1,"","decimals"]],"strategy.strategies":[[2,1,1,"","AbstractStrategy"]],"strategy.strategies.AbstractStrategy":[[2,3,1,"","name"],[2,2,1,"","rebalance"]],"strategy.uniswap_utils":[[2,1,1,"","UniswapLiquidityAligner"],[2,1,1,"","UniswapV2Utils"],[2,1,1,"","UniswapV3Utils"]],"strategy.uniswap_utils.UniswapLiquidityAligner":[[2,2,1,"","check_xy_is_optimal"],[2,2,1,"","liq_to_x"],[2,2,1,"","liq_to_xy"],[2,2,1,"","liq_to_y"],[2,3,1,"","lower_price"],[2,2,1,"","real_price"],[2,3,1,"","upper_price"],[2,2,1,"","x_to_liq"],[2,2,1,"","xy_to_liq"],[2,2,1,"","y_to_liq"]],"strategy.uniswap_utils.UniswapV2Utils":[[2,2,1,"","calc_fraction_to_uni"],[2,2,1,"","calc_fraction_to_x"],[2,2,1,"","calc_fraction_to_y"]],"strategy.uniswap_utils.UniswapV3Utils":[[2,2,1,"","calc_fraction_to_uni"],[2,2,1,"","calc_fraction_to_x"],[2,2,1,"","calc_fraction_to_y"],[2,3,1,"","lower_0"],[2,3,1,"","upper_0"]],"strategy.viewers":[[2,1,1,"","LiquidityViewer"],[2,1,1,"","PotrfolioViewer"],[2,1,1,"","RebalanceViewer"],[2,1,1,"","UniswapViewer"]],"strategy.viewers.LiquidityViewer":[[2,2,1,"","draw_plot"]],"strategy.viewers.PotrfolioViewer":[[2,2,1,"","draw_performance_x"],[2,2,1,"","draw_performance_y"],[2,2,1,"","draw_portfolio"],[2,2,1,"","draw_portfolio_to_x"],[2,2,1,"","draw_portfolio_to_y"],[2,3,1,"","pool"],[2,3,1,"","portfolio_history"]],"strategy.viewers.RebalanceViewer":[[2,2,1,"","draw_rebalances"],[2,3,1,"","rebalance_history"]],"strategy.viewers.UniswapViewer":[[2,2,1,"","draw_intervals"],[2,3,1,"","uni_postition_history"]],strategy:[[2,0,0,"-","backtest"],[2,0,0,"-","cross_validation"],[2,0,0,"-","data"],[2,0,0,"-","history"],[2,0,0,"-","multi_strategy"],[2,0,0,"-","portfolio"],[2,0,0,"-","positions"],[2,0,0,"-","primitives"],[2,0,0,"-","strategies"],[2,0,0,"-","uniswap_utils"],[2,0,0,"-","viewers"]]},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","attribute","Python attribute"],"4":["py","property","Python property"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:attribute","4":"py:property"},terms:{"0":[0,2],"01":0,"05":2,"1":[0,2],"100_000":2,"1e":0,"1e6":0,"2022":2,"3":2,"30":2,"365":2,"42":2,"5":2,"500":2,"6":0,"\u0441urrent":2,"abstract":2,"class":[0,2],"enum":2,"final":0,"float":[0,2],"import":0,"int":2,"new":2,"return":[0,2],"super":0,"true":2,A:0,If:0,In:0,It:[0,2],On:0,The:[0,1,2],Then:0,To:1,__init__:0,abstractposit:2,abstractstrategi:[0,2],access:2,accord:2,actual:2,add:2,add_snapshot:2,addit:2,address:2,after:2,aggreg:2,align_to_liq:0,all:2,alloc:2,also:0,amount:[0,1,2],an:2,ani:2,api:[0,2],append:[0,2],ar:[1,2],arg:[0,2],asset:2,assum:1,attribut:[0,2],avail:[1,2],b:[0,1],backtest:[0,1],base:2,befor:2,between:2,bicurr:2,bicurrencyposit:2,bool:[0,2],bound:[0,2],burn:2,c:1,calc_fraction_to_i:2,calc_fraction_to_uni:2,calc_fraction_to_x:2,calcul:[0,2],calculate_apy_for_col:2,calculate_fe:2,calculate_ful:2,calculate_il:2,calculate_return:2,calculate_stat:2,calculate_valu:2,calculate_value_to:2,call:[0,2],can:2,charg:2,charge_fe:[0,2],check_xy_is_optim:2,clone:0,collect:2,collect_fe:2,composit:2,congratul:0,contain:[0,1,2],convers:2,correct:2,correspond:2,cost:[0,2],coverag:0,creat:[0,2],create_uni_posit:0,cross_valid:2,crossvalid:1,currenc:[0,2],current:[1,2],current_nam:2,custom:1,daili:2,data:[0,1],data_dir:2,datafram:[1,2],date:2,datetim:2,decid:0,decim:2,decimal_diff:0,decimals_diff:[0,2],def:0,defin:[0,1,2],definit:0,denomin:2,deposit:[0,2],df:2,df_swap:2,dict:2,differ:2,displai:1,distribut:2,distributio:2,download:0,draw:0,draw_interv:[0,2],draw_performance_i:2,draw_performance_x:2,draw_plot:[0,2],draw_portfolio:[0,2],draw_portfolio_to_i:2,draw_portfolio_to_x:2,draw_rebal:[0,2],dx:2,dy:2,e:2,each:[1,2],earn:0,easiest:0,emul:2,equal:2,equival:2,eth:2,event:2,exampl:0,exchancg:2,exchang:2,expect:2,expess:2,express:[0,2],fals:2,fee:[0,2],fee_perc:[0,2],few:1,fig1:0,fig2:0,fig3:0,fig4:0,first:[0,2],fold:2,fold_nam:2,folder:2,foldersimpl:2,folds_result:2,follow:1,form:1,formula:2,fraction:2,frame:2,from:[0,1,2],from_col:2,fulli:2,g:2,gain:2,gener:2,generate_data:2,generate_folds_by_index:2,get:[1,2],get_coverag:0,get_fold:2,get_last_posit:2,get_posit:[0,2],github:0,given:2,hashabl:2,have:0,here:0,histor:2,histori:1,i:2,il:2,imperman:2,impermanent_loss:2,impermanent_loss_to_i:2,impermanent_loss_to_x:2,implement:[0,2],inform:2,inherit:0,init:0,init_pric:2,initi:[0,2],instal:0,instanc:[0,2],integ:2,interest:2,interest_gain:2,intern:2,interv:[0,2],invest:[0,2],is_optim:2,is_rebalanc:0,its:2,jupyt:1,just:1,kwarg:[0,2],l:1,l_decimals_diff:2,last:2,left:2,len:0,lib:0,like:0,line:2,liq:2,liq_to_i:2,liq_to_x:2,liq_to_xi:2,liquid:[1,2],liquidityview:[0,2],list:2,load_from_fold:0,logic:[0,2],look:0,loss:2,lower:[0,1,2],lower_0:2,lower_pric:[0,2],mainnet:2,make:2,manag:[0,2],market:2,maximum:2,meta:2,method:[0,2],middl:0,mint:[0,2],mu:2,multi_strategi:2,multistrategi:2,must:2,n_fold:2,n_point:2,name:[0,2],need:0,new_nam:2,next:0,none:[0,2],normal:2,notebook:[0,1],now:0,number:2,obtain:2,offset:2,one:2,open:2,optim:1,option:[0,2],order:2,other:2,otherwis:2,over:2,overrid:0,p_a:1,p_b:1,pair:2,panda:[1,2],parallel:2,param:2,paramet:2,passiv:0,path:2,pathlib:2,pd:2,percent:[0,2],percentag:2,perform:2,plot:2,polar:2,pool:[0,1,2],pool_data:2,pooldatauniv3:2,portfolio:[0,1],portfolio_df:2,portfolio_histori:[0,2],portfoliohistori:2,posit:[0,1],position_nam:2,positions_list:2,potrfolio:2,potrfolioview:[0,2],prepar:0,price:[0,1,2],price_0:2,price_1:2,price_befor:0,primit:[0,1],properti:2,proport:2,provid:2,rabal:2,random:2,rang:2,rawdatauniv3:[0,2],real:[0,1],real_pric:2,rebal:[0,2],rebalanc:[0,2],rebalance_cost:[0,2],rebalance_histori:[0,2],rebalancehistori:2,rebalanceview:[0,2],rebalnac:2,relat:2,rememb:2,remov:2,renam:2,rename_posit:2,repo:0,repres:2,respect:[1,2],result:[0,2],right:2,row:0,run:[0,2],rv:0,s:[0,2],sampl:2,sdk:0,second:2,section:0,see:1,seed:2,self:0,separ:2,seri:1,set:1,sever:2,sigma:2,snapshot:2,some:2,space:2,specif:0,split:2,standard:2,start:[1,2],start_dat:2,stat:[0,2],state:2,statist:2,statu:2,step:[0,1],str:[0,2],stratedi:1,strategi:0,swap:[0,2],swap_fe:2,swap_to_optim:2,swap_x_to_i:2,swap_y_to_x:2,swaps_df:2,synthet:2,syntheticdata:2,test:0,them:1,thi:[0,2],tick:2,time:2,timestamp:[0,2],to_col:2,to_df:2,to_i:2,to_x:2,to_xi:2,todo:[0,2],token0:2,token1:2,token:[0,1,2],tokena:2,tokenb:2,tool:1,total:2,track:2,transform:2,tupl:2,two:0,type:2,typic:0,typyc:0,under:0,uni_align:0,uni_histori:0,uni_po:0,uni_postition_histori:2,unipositionshistori:2,uniqu:[0,2],uniswap:[0,1,2],uniswap_util:[0,2],uniswapliquidityalign:[0,2],uniswaputil:1,uniswapv2util:2,uniswapv3:[0,2],uniswapv3util:2,uniswapview:[0,2],univ3:[0,2],univ3_pass:0,univ3_po:0,univ3pass:0,univ3posit:[0,2],univ3util:2,upper:[0,1,2],upper_0:2,upper_pric:[0,2],us:[0,1,2],usdc:[1,2],usdt:1,util:2,uv:0,v3:[1,2],valu:[0,2],varianc:2,via:2,viewer:1,virtual:1,visual:[0,2],visualis:2,wa:2,wai:0,want:0,wbtc:[0,1,2],wei:2,weth:[0,1],where:2,whitepap:1,withdraw:2,withdraw_fract:2,without:[0,2],work:1,would:0,write:2,x:[1,2],x_fraction:2,x_interest:2,x_liq:2,x_to_liq:2,x_uni_align:0,xy_to_liq:2,y:[1,2],y_fraction:2,y_interest:2,y_liq:2,y_to_liq:2,y_uni_align:0,yield:2,you:0,your:0},titles:["Getting Started","Mellow Strategy SDK","strategy"],titleterms:{api:1,backtest:2,crossvalid:2,data:2,get:0,guid:1,histori:2,mellow:1,notat:1,portfolio:2,posit:2,primit:2,sdk:1,start:0,strategi:[1,2],uniswaputil:2,user:1,viewer:2}})